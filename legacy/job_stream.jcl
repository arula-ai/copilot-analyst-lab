//FEESCALC JOB (ACCT),'DAILY FEE CALC',CLASS=A,MSGCLASS=X,
//         NOTIFY=&SYSUID,REGION=4M
//*
//* *********************************************************
//* DAILY TRANSACTION FEE CALCULATION JOB STREAM
//* RUNS: DAILY AT 02:00 AM
//* DEPENDENCIES: TRANS EXTRACT MUST COMPLETE FIRST
//* *********************************************************
//*
//STEP010  EXEC PGM=IEFBR14
//DD1      DD DSN=PROD.TRANS.BACKUP.D&DATE,
//            DISP=(MOD,DELETE,DELETE),UNIT=SYSDA,SPACE=(TRK,0)
//*
//STEP020  EXEC PGM=IEBGENER
//SYSPRINT DD SYSOUT=*
//SYSIN    DD DUMMY
//SYSUT1   DD DSN=PROD.TRANS.DAILY,DISP=SHR
//SYSUT2   DD DSN=PROD.TRANS.BACKUP.D&DATE,
//            DISP=(NEW,CATLG,DELETE),
//            UNIT=SYSDA,SPACE=(CYL,(100,50),RLSE),
//            DCB=(RECFM=FB,LRECL=80,BLKSIZE=8000)
//*
//STEP030  EXEC PGM=SORT
//SYSOUT   DD SYSOUT=*
//SORTIN   DD DSN=PROD.TRANS.DAILY,DISP=SHR
//SORTOUT  DD DSN=PROD.TRANS.SORTED,
//            DISP=(NEW,CATLG,DELETE),
//            UNIT=SYSDA,SPACE=(CYL,(100,50),RLSE),
//            DCB=(RECFM=FB,LRECL=80,BLKSIZE=8000)
//SYSIN    DD *
  SORT FIELDS=(1,10,CH,A,11,8,CH,A)
/*
//*
//STEP040  EXEC PGM=FEESCALC
//STEPLIB  DD DSN=PROD.LOADLIB,DISP=SHR
//TRANS    DD DSN=PROD.TRANS.SORTED,DISP=SHR
//FEES     DD DSN=PROD.FEES.OUTPUT.D&DATE,
//            DISP=(NEW,CATLG,DELETE),
//            UNIT=SYSDA,SPACE=(CYL,(50,25),RLSE),
//            DCB=(RECFM=FB,LRECL=60,BLKSIZE=6000)
//SYSPRINT DD SYSOUT=*
//SYSUDUMP DD SYSOUT=*
//*
//STEP050  EXEC PGM=FEESRPT,COND=(4,LT)
//STEPLIB  DD DSN=PROD.LOADLIB,DISP=SHR
//FEESIN   DD DSN=PROD.FEES.OUTPUT.D&DATE,DISP=SHR
//REPORT   DD SYSOUT=*,DCB=(RECFM=FBA,LRECL=133,BLKSIZE=1330)
//*
//STEP060  EXEC PGM=IKJEFT01,COND=(4,LT)
//SYSTSPRT DD SYSOUT=*
//SYSTSIN  DD *
  SEND 'FEE CALCULATION COMPLETED FOR &DATE' USER(OPER)
/*
